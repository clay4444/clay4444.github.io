<!DOCTYPE html>
<html lang="chinese">
    <!-- title -->




<!-- keywords -->




<head><meta name="generator" content="Hexo 3.8.0">
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no">
    <meta name="author" content="clay">
    <meta name="renderer" content="webkit">
    <meta name="copyright" content="clay">
    
    <meta name="keywords" content="hexo,hexo-theme,hexo-blog">
    
    <meta name="description" content="I'll do every thing for GTR">
    <meta http-equiv="Cache-control" content="no-cache">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    <title>StreamingSystem一二章总结 · 十年饮冰，难凉热血</title>
    <style type="text/css">
    @font-face {
        font-family: 'Oswald-Regular';
        src: url("/clay4444.github.io/font/Oswald-Regular.ttf");
    }

    body {
        margin: 0;
    }

    header,
    footer,
    .back-top,
    .sidebar,
    .container,
    .site-intro-meta,
    .toc-wrapper {
        display: none;
    }

    .site-intro {
        position: relative;
        z-index: 3;
        width: 100%;
        /* height: 50vh; */
        overflow: hidden;
    }

    .site-intro-placeholder {
        position: absolute;
        z-index: -2;
        top: 0;
        left: 0;
        width: calc(100% + 300px);
        height: 100%;
        background: repeating-linear-gradient(-45deg, #444 0, #444 80px, #333 80px, #333 160px);
        background-position: center center;
        transform: translate3d(-226px, 0, 0);
        animation: gradient-move 2.5s ease-out 0s infinite;
    }

    @keyframes gradient-move {
        0% {
            transform: translate3d(-226px, 0, 0);
        }
        100% {
            transform: translate3d(0, 0, 0);
        }
    }

</style>

    <link rel="preload" href="/clay4444.github.io/css/style.css?v=20180824" as="style" onload="this.onload=null;this.rel='stylesheet'">
    <link rel="stylesheet" href="/clay4444.github.io/css/mobile.css?v=20180824" media="(max-width: 980px)">
    
    <link rel="preload" href="https://cdnjs.cloudflare.com/ajax/libs/fancybox/3.2.5/jquery.fancybox.min.css" as="style" onload="this.onload=null;this.rel='stylesheet'">
    
    <!-- /*! loadCSS. [c]2017 Filament Group, Inc. MIT License */
/* This file is meant as a standalone workflow for
- testing support for link[rel=preload]
- enabling async CSS loading in browsers that do not support rel=preload
- applying rel preload css once loaded, whether supported or not.
*/ -->
<script>
(function( w ){
	"use strict";
	// rel=preload support test
	if( !w.loadCSS ){
		w.loadCSS = function(){};
	}
	// define on the loadCSS obj
	var rp = loadCSS.relpreload = {};
	// rel=preload feature support test
	// runs once and returns a function for compat purposes
	rp.support = (function(){
		var ret;
		try {
			ret = w.document.createElement( "link" ).relList.supports( "preload" );
		} catch (e) {
			ret = false;
		}
		return function(){
			return ret;
		};
	})();

	// if preload isn't supported, get an asynchronous load by using a non-matching media attribute
	// then change that media back to its intended value on load
	rp.bindMediaToggle = function( link ){
		// remember existing media attr for ultimate state, or default to 'all'
		var finalMedia = link.media || "all";

		function enableStylesheet(){
			link.media = finalMedia;
		}

		// bind load handlers to enable media
		if( link.addEventListener ){
			link.addEventListener( "load", enableStylesheet );
		} else if( link.attachEvent ){
			link.attachEvent( "onload", enableStylesheet );
		}

		// Set rel and non-applicable media type to start an async request
		// note: timeout allows this to happen async to let rendering continue in IE
		setTimeout(function(){
			link.rel = "stylesheet";
			link.media = "only x";
		});
		// also enable media after 3 seconds,
		// which will catch very old browsers (android 2.x, old firefox) that don't support onload on link
		setTimeout( enableStylesheet, 3000 );
	};

	// loop through link elements in DOM
	rp.poly = function(){
		// double check this to prevent external calls from running
		if( rp.support() ){
			return;
		}
		var links = w.document.getElementsByTagName( "link" );
		for( var i = 0; i < links.length; i++ ){
			var link = links[ i ];
			// qualify links to those with rel=preload and as=style attrs
			if( link.rel === "preload" && link.getAttribute( "as" ) === "style" && !link.getAttribute( "data-loadcss" ) ){
				// prevent rerunning on link
				link.setAttribute( "data-loadcss", true );
				// bind listeners to toggle media back
				rp.bindMediaToggle( link );
			}
		}
	};

	// if unsupported, run the polyfill
	if( !rp.support() ){
		// run once at least
		rp.poly();

		// rerun poly on an interval until onload
		var run = w.setInterval( rp.poly, 500 );
		if( w.addEventListener ){
			w.addEventListener( "load", function(){
				rp.poly();
				w.clearInterval( run );
			} );
		} else if( w.attachEvent ){
			w.attachEvent( "onload", function(){
				rp.poly();
				w.clearInterval( run );
			} );
		}
	}


	// commonjs
	if( typeof exports !== "undefined" ){
		exports.loadCSS = loadCSS;
	}
	else {
		w.loadCSS = loadCSS;
	}
}( typeof global !== "undefined" ? global : this ) );
</script>

    <link rel="icon" href="/clay4444.github.io/assets/favicon.ico">
    <link rel="preload" href="https://cdn.jsdelivr.net/npm/webfontloader@1.6.28/webfontloader.min.js" as="script">
    <link rel="preload" href="https://cdn.jsdelivr.net/npm/jquery@3.3.1/dist/jquery.min.js" as="script">
    <link rel="preload" href="/clay4444.github.io/scripts/main.js" as="script">
    <link rel="preload" as="font" href="/clay4444.github.io/font/Oswald-Regular.ttf" crossorigin="">
    <link rel="preload" as="font" href="https://at.alicdn.com/t/font_327081_1dta1rlogw17zaor.woff" crossorigin="">
    
    <!-- fancybox -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/fancybox/3.2.5/jquery.fancybox.min.js" defer></script>
    <!-- 百度统计  -->
    
    <!-- 谷歌统计  -->
    
</head>

    
        <body class="post-body">
    
    
<header class="header">

    <div class="read-progress"></div>
    <div class="header-sidebar-menu">&#xe775;</div>
    <!-- post页的toggle banner  -->
    
    <div class="banner">
            <div class="blog-title">
                <a href="/clay4444.github.io/">诚觉世事尽可原谅.</a>
            </div>
            <div class="post-title">
                <a href="#" class="post-name">StreamingSystem一二章总结</a>
            </div>
    </div>
    
    <a class="home-link" href="/clay4444.github.io/">诚觉世事尽可原谅.</a>
</header>
    <div class="wrapper">
        <div class="site-intro" style="







height:50vh;
">
    
    <!-- 主页  -->
    
    
    <!-- 404页  -->
            
    <div class="site-intro-placeholder"></div>
    <div class="site-intro-img" style="background-image: url(/clay4444.github.io/intro/post-bg.jpg)"></div>
    <div class="site-intro-meta">
        <!-- 标题  -->
        <h1 class="intro-title">
            <!-- 主页  -->
            
            StreamingSystem一二章总结
            <!-- 404 -->
            
        </h1>
        <!-- 副标题 -->
        <p class="intro-subtitle">
            <!-- 主页副标题  -->
            
            
            <!-- 404 -->
            
        </p>
        <!-- 文章页meta -->
        
            <div class="post-intros">
                <!-- 文章页标签  -->
                
                
                    <div class="post-intro-read">
                        <span>字数统计: <span class="post-count word-count">8.9k</span>阅读时长: <span class="post-count reading-time">30 min</span></span>
                    </div>
                
                <div class="post-intro-meta">
                    <span class="post-intro-calander iconfont-archer">&#xe676;</span>
                    <span class="post-intro-time">2019/02/11</span>
                    
                    <span id="busuanzi_container_page_pv" class="busuanzi-pv">
                        <span class="iconfont-archer">&#xe602;</span>
                        <span id="busuanzi_value_page_pv"></span>
                    </span>
                    
                    <span class="shareWrapper">
                        <span class="iconfont-archer shareIcon">&#xe71d;</span>
                        <span class="shareText">Share</span>
                        <ul class="shareList">
                            <li class="iconfont-archer share-qr" data-type="qr">&#xe75b;
                                <div class="share-qrcode"></div>
                            </li>
                            <li class="iconfont-archer" data-type="weibo">&#xe619;</li>
                            <li class="iconfont-archer" data-type="qzone">&#xe62e;</li>
                            <li class="iconfont-archer" data-type="twitter">&#xe634;</li>
                            <li class="iconfont-archer" data-type="facebook">&#xe67a;</li>
                        </ul>
                    </span>
                </div>
            </div>
        
    </div>
</div>
        <script>
 
  // get user agent
  var browser = {
    versions: function () {
      var u = window.navigator.userAgent;
      return {
        userAgent: u,
        trident: u.indexOf('Trident') > -1, //IE内核
        presto: u.indexOf('Presto') > -1, //opera内核
        webKit: u.indexOf('AppleWebKit') > -1, //苹果、谷歌内核
        gecko: u.indexOf('Gecko') > -1 && u.indexOf('KHTML') == -1, //火狐内核
        mobile: !!u.match(/AppleWebKit.*Mobile.*/), //是否为移动终端
        ios: !!u.match(/\(i[^;]+;( U;)? CPU.+Mac OS X/), //ios终端
        android: u.indexOf('Android') > -1 || u.indexOf('Linux') > -1, //android终端或者uc浏览器
        iPhone: u.indexOf('iPhone') > -1 || u.indexOf('Mac') > -1, //是否为iPhone或者安卓QQ浏览器
        iPad: u.indexOf('iPad') > -1, //是否为iPad
        webApp: u.indexOf('Safari') == -1, //是否为web应用程序，没有头部与底部
        weixin: u.indexOf('MicroMessenger') == -1, //是否为微信浏览器
        uc: u.indexOf('UCBrowser') > -1 //是否为android下的UC浏览器
      };
    }()
  }
  console.log("userAgent:" + browser.versions.userAgent);

  // callback
  function fontLoaded() {
    console.log('font loaded');
    if (document.getElementsByClassName('site-intro-meta')) {
      document.getElementsByClassName('intro-title')[0].classList.add('intro-fade-in');
      document.getElementsByClassName('intro-subtitle')[0].classList.add('intro-fade-in');
      var postIntros = document.getElementsByClassName('post-intros')[0]
      if (postIntros) {
        postIntros.classList.add('post-fade-in');
      }
    }
  }

  // UC不支持跨域，所以直接显示
  function asyncCb(){
    if (browser.versions.uc) {
      console.log("UCBrowser");
      fontLoaded();
    } else {
      WebFont.load({
        custom: {
          families: ['Oswald-Regular']
        },
        loading: function () {  //所有字体开始加载
          // console.log('loading');
        },
        active: function () {  //所有字体已渲染
          fontLoaded();
        },
        inactive: function () { //字体预加载失败，无效字体或浏览器不支持加载
          console.log('inactive: timeout');
          fontLoaded();
        },
        timeout: 5000 // Set the timeout to two seconds
      });
    }
  }

  function asyncErr(){
    console.warn('script load from CDN failed, will load local script')
  }

  // load webfont-loader async, and add callback function
  function async(u, cb, err) {
    var d = document, t = 'script',
      o = d.createElement(t),
      s = d.getElementsByTagName(t)[0];
    o.src = u;
    if (cb) { o.addEventListener('load', function (e) { cb(null, e); }, false); }
    if (err) { o.addEventListener('error', function (e) { err(null, e); }, false); }
    s.parentNode.insertBefore(o, s);
  }

  var asyncLoadWithFallBack = function(arr, success, reject) {
      var currReject = function(){
        reject()
        arr.shift()
        if(arr.length)
          async(arr[0], success, currReject)
        }

      async(arr[0], success, currReject)
  }

  asyncLoadWithFallBack([
    "https://cdn.jsdelivr.net/npm/webfontloader@1.6.28/webfontloader.min.js", 
    "https://cdn.bootcss.com/webfont/1.6.28/webfontloader.js",
    "/clay4444.github.io/lib/webfontloader.min.js"
  ], asyncCb, asyncErr)
</script>        
        <img class="loading" src="/clay4444.github.io/assets/loading.svg" style="display: block; margin: 6rem auto 0 auto; width: 6rem; height: 6rem;" />
        <div class="container container-unloaded">
            <main class="main post-page">
    <article class="article-entry">
        <h3 id="autor"><a href="#autor" class="headerlink" title="autor"></a>autor</h3><p>Tyler</p>
<p>Google数据处理语言和系统小组的技术负责人，负责Google Cloud Dataflow，Google的Apache Beam工作，以及Google内部数据处理系统，如Flume，MillWheel和MapReduce。我也是Apache Beam PMC的创始成员；</p>
<p><br></p>
<p>Slava</p>
<p>Slava是Google的MillWheel团队的长期成员，后来成为Windmill团队的原始成员，该团队构建了MillWheel的继任者，这是迄今为止未命名的系统，为Google Cloud Dataflow中的Streaming Engine提供支持。 Slava是全世界流媒体处理系统中水印和时间语义的最重要专家。你可能会发现他是第3章水印的作者并不令人惊讶。</p>
<p><br></p>
<p>Reuven</p>
<p>Reuven创建领导了Google通用流处理引擎中几乎所有有趣的系统级应用的创建，包括在提供高吞吐量，低延迟，一次性语义的过程中对细节提供了无数的关注。但是，系统仍然使用细粒度的检查点。您可能会发现他是第5章，精确一次和副作用的作者并不令人惊讶。他恰好也是Apache Beam PMC成员。</p>
<p><br></p>
<p>chapter1</p>
<p>流处理基本知识</p>
<p><br></p>
<p>chapter2</p>
<p>详细介绍了对无序数据进行稳健流处理的核心概念</p>
<p><br></p>
<p>chapter3 （slava）</p>
<p>watermark</p>
<p><br></p>
<p>chapter4</p>
<p>高级窗口</p>
<p><br></p>
<p>chapter5</p>
<p>exactly-once 和 side Effects，</p>
<p><br></p>
<p>chapter6</p>
<p>stream and table 流和表的基本思想</p>
<p><br></p>
<p>chapter7</p>
<p>状态管理机制</p>
<p><br></p>
<p>chapter8</p>
<p>Streaming sql</p>
<p><br></p>
<p>chapter9</p>
<p>join</p>
<p><br></p>
<h4 id="最重要的两个概念"><a href="#最重要的两个概念" class="headerlink" title="最重要的两个概念"></a>最重要的两个概念</h4><ol>
<li>您可以从本书中学到的最重要的一点是流和表的理论知识以及它们之间的关系。其他一切都建立在其基础之上</li>
<li>时变关系是一个启示。它们是流处理的化身：所有流媒体系统的创建都是为了实现和我们熟悉的工具的强大连接而实现的。</li>
</ol>
<p><br></p>
<h3 id="chapter1"><a href="#chapter1" class="headerlink" title="chapter1"></a>chapter1</h3><p>定义数据特征的两个重要维度：基数(cardinality)和构成(constitution)</p>
<p>Cardinality 定义了有界数据还是无界数据</p>
<p>constitution定义了与数据的交互方式（stream和table）</p>
<p>lambda架构中：流媒体系统：低延迟，不准确，只是推测的结果，要和批处理系统结合使用；</p>
<p>观点：流处理和批处理应该统一</p>
<p>成熟的流计算系统+强大的无界流数据处理框架将完全取代Lambda 架构，只需要做两件事：</p>
<ol>
<li>强大的数据<strong>一致性</strong>和准确性：通过checkpoint persistent state，exactly-once</li>
<li>推理时间的工具：尤其是对于无限、无序数据集</li>
</ol>
<p><br></p>
<h4 id="event-time-vs-processing-time"><a href="#event-time-vs-processing-time" class="headerlink" title="event time vs processing time"></a>event time vs processing time</h4><p>理想状态下：事件时间应该和处理时间相等，但是现实世界中：事件时间和处理时间之间的差距不仅不为0，而且还是随着输入数据的特点、执行引擎、和硬件等等高度相关的函数；</p>
<img src="/clay4444.github.io/posts/613fbfdf/figure1-1.png">
<p><br></p>
<p>其中：processing time distance (垂直) 代表的值的意义是：处理时间的延迟，也就是事件的产生和事件的真正处理之间的延迟；</p>
<p>event time distance (水平) 代表的值的意义是：事件时间的延迟</p>
<p>实际上这两个值是完全相等的，他们只是观察数据的两种不同的视角；</p>
<p><br></p>
<p>由于event time 和 process time 之间的整体映射不是静态的，即时间的滞后或者说延迟可能随时间任意变化，所以如果想通过事件时间分析数据，那么通过一些无界数据处理框架是无法实现的，因为它们仅提供了以处理时间为基准的窗口，此时的分析的结果就是不准确的；</p>
<p><br></p>
<p>如果按照事件时间进行窗口切分：那么带来的挑战就是事件时间窗口的完整性问题，如何确定何时观察到给定事件时间窗口的所有数据？对于很多真实的数据源，这根本不可能做到，目前使用的绝大多数数据处理系统都依赖于某些固定的完整性概念，这使得它们在应用于无界数据集 (stream) 时处于严重劣势</p>
<p><br></p>
<p>不要试图将无限数据整理成最终变得完整的有限批次信息，而应该设计工具，让我们生活在这些复杂数据集所带来的不确定性世界中。新数据将会到来，旧数据可能会被撤回或更新，我们构建的任何系统都应该能够自行处理这些事实，完整性概念是对特定和适当用例的方便优化，</p>
<p><br></p>
<h4 id="常见的数据处理模式"><a href="#常见的数据处理模式" class="headerlink" title="常见的数据处理模式"></a>常见的数据处理模式</h4><p>有界数据</p>
<p>经典批处理，mr</p>
<p><br></p>
<p>无界数据：</p>
<p>第一种处理方法：Batch ( 批次 )：此类方法围绕将无界数据切割为适合批处理的有界数据集的集合</p>
<p><br></p>
<p>fix window</p>
<p>问题：数据完整性，数据延迟导致的，</p>
<p>解决方案：直到确定已收集所有事件； 或在迟到数据到达时，重新计算，</p>
<p><br></p>
<p>sessions</p>
<p>当尝试使用批处理引擎将无限数据处理为更复杂的窗口策略（如会话）时，此方法会更加崩溃。使用典型的批处理引擎计算会话时，您经常会遇到按批次分割的会话，如下图中的红色标记所示。我们可以通过增加批量来减少拆分数量，但代价是延迟增加。另一种选择是添加额外的逻辑来拼接先前运行的会话，但代价是进一步复杂化</p>
<img src="/clay4444.github.io/posts/613fbfdf/figure1-4.png">
<p><br></p>
<p>第二种处理方法：Streaming</p>
<p>数据特点：</p>
<ol>
<li>无界</li>
<li>高度无序</li>
<li>事件时间偏差随机，意味着你不能只假设你总是会在某个恒定的时间ε中看到给定事件时间X的大部分数据。</li>
</ol>
<p><br></p>
<p>处理方法分类：</p>
<ol>
<li>时间不可知</li>
</ol>
<p>与时间无关，所有的逻辑都是数据驱动的，简单的将无界数据源分割为有限数据集的序列并独立处理，批处理系统也非常适合无界数据源的这种时间无关的情况，</p>
<p>举例：</p>
<p>Filter 过滤网络流量日志，数据无界，无序，不影响处理；</p>
<img src="/clay4444.github.io/posts/613fbfdf/figure1-5.png">
<p><br></p>
<p>innner join </p>
<img src="/clay4444.github.io/posts/613fbfdf/figure1-6.png">
<p>将语义切换到某种外连接会引入我们所讨论的数据完整性问题：在我们看到连接的一侧之后，您如何知道另一方是否会到达？说实话，你没有，所以你需要引入一些超时的概念，这会引入一个时间元素。<strong>时间元素本质上是一种窗口形式</strong></p>
<p><br></p>
<ol>
<li>近似</li>
</ol>
<p>各种分类，聚类算法</p>
<p><br></p>
<ol>
<li>windowing by procesing time</li>
</ol>
<p>好处：</p>
<ol>
<li>实现非常简单，因为不用担心在一段时间内对数据进行shuffle。你只需在它们到达时缓冲它们并在窗口关闭时将它们发送到下游</li>
<li>判断窗口的完整性很简单。由于系统完全了解是否已经看到窗口的所有输入，因此可以就给定窗口是否完整做出完美的决定。这意味着当按处理时间进行窗口化时，无需以任何方式处理“延迟”数据</li>
<li>如果您想要在数据处理时推断出有关源的信息，那么处理时间窗口正是您想要的。许多监测方案都属于这一类</li>
</ol>
<p><br></p>
<p>缺点：</p>
<p>如果有问题的数据具有与它们相关联的事件时间，那么如果处理时间窗口要反映实际时间，则这些数据必须按事件时间顺序到达</p>
<p><br></p>
<ol>
<li>windowing by event time</li>
</ol>
<img src="/clay4444.github.io/posts/613fbfdf/figure1-10.png">
<p><br></p>
<p>好处：</p>
<ol>
<li>可以准确的反映时间发生的时间</li>
<li>另一个好处是，您可以创建动态大小的窗口，例如会话窗口，而不会在通过固定窗口生成会话时观察到任意分割，</li>
</ol>
<p><br></p>
<p>两个明显的缺点：</p>
<ol>
<li>由于延长了窗口寿命，因此需要更多的数据缓冲，值得庆幸的是，持久存储通常是大多数数据处理系统所依赖的资源类型中最便宜的（硬盘，ssd等）。因此，当使用任何设计良好的数据处理系统（具有强一致的持久状态和涉及良好的内存缓存层）时，这个问题通常不像您想象的那么令人担忧。而且，许多有用的聚合不要求整个输入集被缓冲（例如，总和或平均），而是可以递增地执行，其中存储在持久状态中的小得多的中间聚合。</li>
<li>数据完整性问题，借助watermark给出窗口完成的合理、准确的启发式估计，对于绝对准确性的情况，唯一的方式是<strong>数据管道中能够给出一种方式来表达何时数据已经完整了，以及如何随时间推移数据</strong></li>
</ol>
<p><br></p>
<p><br></p>
<h3 id="chapter2"><a href="#chapter2" class="headerlink" title="chapter2"></a>chapter2</h3><h4 id="Triggers-触发器"><a href="#Triggers-触发器" class="headerlink" title="Triggers 触发器"></a>Triggers 触发器</h4><p>触发器是一种机制，用于声明相对于某些外部信号何时应该实现窗口的输出。触发器可灵活选择何时应发出输出，触发器还可以随着演变而多次观察窗口的输出。这反过来打开了<strong>随着时间的推移改进结果</strong>的大门，这允许<strong>在数据到达时提供推测结果</strong>，以及<strong>随时间推移上游数据或（修订）迟到的数据</strong></p>
<p><br></p>
<h4 id="Watermarks"><a href="#Watermarks" class="headerlink" title="Watermarks"></a>Watermarks</h4><p>是关于事件时间的输入完整性的概念，具有时间X值的水印的概念：“已经观察到事件时间小于X的所有输入数据，充当进度的度量</p>
<p><br></p>
<h4 id="Accumulation-累积模式"><a href="#Accumulation-累积模式" class="headerlink" title="Accumulation  累积模式"></a>Accumulation  累积模式</h4><p><br></p>
<p>累积模式指定在同一窗口中观察到的多个结果之间的关系。这些结果可能完全脱节;也就是说，随着时间的推移表示独立的增量，或者它们之间可能存在重叠<br>这里可以参考session窗口</p>
<p><br></p>
<h4 id="四个问题"><a href="#四个问题" class="headerlink" title="四个问题"></a>四个问题</h4><ol>
<li>what 计算结果是什么？</li>
</ol>
<p>sum，直方图，训练模型，等，基本上也是经典批处理所回答的问题</p>
<p><br></p>
<ol>
<li>where  使用事件时间时，在哪里计算结果</li>
</ol>
<p>Window：使用事件时间窗口，窗口结束的时间就是计算结果的时间点</p>
<p><br></p>
<ol>
<li>when  在处理时间内是否实现了结果  ( 个人理解：数据是否完全到达，或者达到了大部分，可以计算结果 )</li>
</ol>
<p>通过使用触发器和（可选地）水印来回答该问题。</p>
<p><br></p>
<ol>
<li>how  结果的细化如何相关？ (各个结果之间如何关联)</li>
</ol>
<p>通过所使用的累积类型来回答：丢弃（其中结果都是独立的和不同的），累积（其中后面的结果建立在先前的结果上），或累积和缩回（其中累积值加上回退）</p>
<p><br></p>
<h4 id="批处理基石：what-where"><a href="#批处理基石：what-where" class="headerlink" title="批处理基石：what  where"></a>批处理基石：what  where</h4><p>处理有界数据的数据源</p>
<p>举例：userSocres</p>
<p>假设我们已经编写了一个基于团队的手机游戏，我们希望建立一个通过总结用户手机上报的个人得分来计算团队得分的数据pipline。如果我们要在名为“UserScores”的SQL表中展示我们的九个示例分数，它可能看起来像这样：</p>
<p><br></p>
<table>
<thead>
<tr>
<th>Name</th>
<th>Team</th>
<th>Score</th>
<th>EventTime</th>
<th>ProcTime</th>
</tr>
</thead>
<tbody>
<tr>
<td>Julie</td>
<td>TeamX</td>
<td>5</td>
<td>12:00:26</td>
<td>12:05:19</td>
</tr>
<tr>
<td>Frank</td>
<td>TeamX</td>
<td>9</td>
<td>12:01:26</td>
<td>12:08:19</td>
</tr>
<tr>
<td>Ed</td>
<td>TeamX</td>
<td>7</td>
<td>12:02:26</td>
<td>12:05:39</td>
</tr>
<tr>
<td>Julie</td>
<td>TeamX</td>
<td>8</td>
<td>12:03:06</td>
<td>12:07:06</td>
</tr>
<tr>
<td>Amy</td>
<td>TeamX</td>
<td>3</td>
<td>12:03:39</td>
<td>12:06:13</td>
</tr>
<tr>
<td>Fred</td>
<td>TeamX</td>
<td>4</td>
<td>12:04:19</td>
<td>12:06:39</td>
</tr>
<tr>
<td>Naomi</td>
<td>TeamX</td>
<td>3</td>
<td>12:06:39</td>
<td>12:07:19</td>
</tr>
<tr>
<td>Becky</td>
<td>TeamX</td>
<td>8</td>
<td>12:07:26</td>
<td>12:08:39</td>
</tr>
<tr>
<td>Naomi</td>
<td>TeamX</td>
<td>1</td>
<td>12:07:46</td>
<td>12:09:00</td>
</tr>
</tbody>
</table>
<img src="/clay4444.github.io/posts/613fbfdf/figure2-1.png">
<p><br></p>
<p>what = Transformations(计算方式)</p>
<p>批处理，累积所有的状态，直到看到所有的输入，最终返回结果，</p>
<img src="/clay4444.github.io/posts/613fbfdf/figure2-3.png">
<p><br></p>
<p>上面是有界数据的处理形式，无界数据中，不可能缓存所有的状态，<br>此时的问题：事件时间在哪里计算结果？</p>
<p><br></p>
<p>where  =  Windowing （窗口化）</p>
<p>批处理只是流处理的一个子集，</p>
<p>此时event time 生成四个结果，12:00 - 12:02  02 - 04   04 - 08   08 - 10，而不是批处理的一个结果，</p>
<p>对于四个相关的两分钟事件时间窗口中的每一个，我们得到四个输出；</p>
<img src="/clay4444.github.io/posts/613fbfdf/figure2-5.png">
<p><br></p>
<h4 id="streaming-：when"><a href="#streaming-：when" class="headerlink" title="streaming  ：when"></a>streaming  ：when</h4><p>我们刚观察了批处理引擎上窗口pipline的执行情况。但是，理想情况下，我们希望我们的结果具有较低的延迟，并且我们还希望处理<strong>无界数据源</strong>。切换到流媒体引擎是朝着正确方向迈出的一步，但是我们之前等待我们的输入被全部消耗以生成输出的策略已不再可行。此时我们需要的东西是：触发器和水印。</p>
<p><br></p>
<p>when    （触发器）</p>
<p>Triggr：在一个事件时间窗口处理过程中，何时发生窗口的输出；</p>
<p>( 尽管触发器本身可能根据其他时域中发生的事情做出这些决定，正如水印在事件时间域中的进展，我们将在稍后看到  ) </p>
<p>窗口的每个特定输出称为窗口的窗格</p>
<p><br></p>
<p>两种通常有用的触发类型：</p>
<ol>
<li><p>重复更新触发器 ( 最常见的，最容易实现且最容易理解 )</p>
<p>这些窗口随着内容的发展而定期生成窗口的更新窗格。这些更新可以在每个新记录中实现，也可以在一些处理时间延迟后发生，例如每分钟一次。重复更新触发器的周期选择的主要依据是平衡延迟和成本；</p>
</li>
</ol>
<p><br></p>
<ol>
<li><p>完整性触发器</p>
<p>只有在认为该窗口的输入完成某个阈值之后，这些才会实现窗口的窗格。这种类型的触发器与我们在批处理中熟悉的类似：只有在输入完成后才提供结果。基于触发器的方法的不同之处在于，<strong>完整性的概念限定在单个窗口的上下文中，而不是始终受限于整个输入的完整性</strong></p>
</li>
</ol>
<p>​    完整性触发器不常遇到，但提供的流式语义更接近经典批处理世界的流式语义。它们还提供了推理缺失数据和后期数据之类的工具，我们在讨论完整性触发的基础原语时会很快（在下一章）讨论这些工具：水印</p>
<p><br></p>
<p><strong>重复更新触发器</strong> 举例：单个窗口，多个输出 ( 每条记录生成一个结果 )</p>
<img src="/clay4444.github.io/posts/613fbfdf/figure2-6.png">
<p><br></p>
<p>重复更新触发器  之 每条记录触发一次：</p>
<p>可以看到我们现在如何为每个窗口获取多个输出（窗格）：每个相应的输入一次。当输出流被写入某种表格时，这种触发模式很有效，可以简单地轮询结果。无论何时查看表格，您都会看到给定窗口的最新值，这些值将随着时间的推移而趋于正确（一直都是最新的结果）</p>
<p>每条记录触发一个窗口的缺点：处理大规模数据时，sum，count等聚合操作是一个很好的机会来减少流的基数而不会丢失信息，直接累加状态每次更新即可，此时如果使用延迟处理时间更新，效果会好很多，因为他们会对数据进行类似打散操作，也就是说要存储的状态变小了；结果也是准确的</p>
<p><br></p>
<p>重复更新触发器  之 处理时间延迟后触发：</p>
<ol>
<li>对齐延迟（根据处理时间再划分<strong>处理时间窗口</strong>(区别于上述的事件时间窗口)，划分成固定处理时间长度的窗口）：</li>
</ol>
<img src="/clay4444.github.io/posts/613fbfdf/figure2-7.png">
<p>类似于spark streaming，每次跑一个小批次，优点是：可以同时在所有修改过的窗口中定期更新，缺点是：所有更新都会立即发生，从而导致突发性工作负载通常需要更高的峰值配置才能正确处理负载</p>
<p><br></p>
<ol>
<li>未对齐延迟（其中延迟相对于给定窗口内观察到的数据，也就是观察到一条数据之后，根据这条数据的处理时间，再延迟一段固定时间）</li>
</ol>
<img src="/clay4444.github.io/posts/613fbfdf/figure2-8.png">
<p>未对齐延迟如何在一段时间内更均匀地分散负载？任何给定窗口所涉及的实际延迟（最终的处理时间的延迟时间）在每个事件时间窗口之间有所不同，有时更多，有时更少（01到02之间处理时间延迟更多，02到04之间处理时间延迟更少），但最终平均延迟将保持基本相同。从这个角度来看，未对齐延迟通常是大规模处理的更好选择，因为它们会随着时间推移产生更均匀的负载分布</p>
<p><br></p>
<p>重复更新触发器  之 适用情况 总结：</p>
<p>重复更新触发器非常适用于我们只希望随着时间的推移定期更新结果的用例，并且这些更新收敛于正确性但是<strong>没有明确指示何时进行计算是正确的</strong>;</p>
<p>但是对于数据完整性要求非常高的情况，而分布式系统的变幻莫测又意味着很难推断出输出的时间提供准确完整的输入数据视图，此时需要的解决办法就是：要有一些推理完整性的方法，而不是盲目地信任计算结果，这些结果是通过恰好已经在管道中存在的数据来计算的；<br>这就是<strong>watermark的作用</strong>；</p>
<p><strong>同时，watermark 也解决了事件时间窗口状态何时可以删除的问题 (allow latency)</strong></p>
<p><br></p>
<p>when    （watermark）</p>
<p>是<strong>系统测量进度和完整性</strong>的方式</p>
<img src="/clay4444.github.io/posts/613fbfdf/figure2-9.png">
<p>图中现实世界的处理过程基本上就是水印，它随着处理时间的推移捕获事件时间完整性的进度。从概念上讲，您<strong>可以将水印视为一个函数F（P）→E，它取决于处理时间并返回事件时间点。 事件时间中的那个点E是系统认为所有输入事件时间小于E的输入点</strong>。换句话说，这是一个断言，不会再看到事件时间小于E的数据</p>
<p><br></p>
<p>两种水印：</p>
<ol>
<li>完美水印：<strong>严格的保证</strong></li>
</ol>
<p>对所有输入数据有完全了解的情况，构建完美的水印</p>
<ol>
<li>启发式水印：<strong>有根据的猜测</strong></li>
</ol>
<p>启发式水印使用有关输入的任何可用信息，来提供尽可能准确的进度估计。在许多情况下，这种水印在其预测中可以非常准确。即便如此，<strong>使用启发式水印意味着它有时可能是错误的</strong>，此时就需要处理延迟数据；</p>
<p><br></p>
<p>因为水印提供了相对于我们输入的完整性概念，所以水印形成了前面提到的第二类触发器的基础：完整性触发器，也就是说：<strong>水印就是一种完整性触发器</strong></p>
<p><br></p>
<p>给定的数据集可以应用不同的水印，当我们对输入数据完全了解的情况下，我们可能会创造一个完美水印，但是如果不够了解，或者完美水印成本太大，可以选用启发式脚本，左图是完美水印，右图是启发式；</p>
<p>在这两种情况下，当水印通过窗口的末端时，意味着窗口结束，可以计算结果；</p>
<img src="/clay4444.github.io/posts/613fbfdf/figure2-10.png">
<p>水印 ( 完整性触发器 ) 和我们在图2-5到2-7中看到的重复更新触发器之间的巨大差异在于<strong>水印为我们提供了一种推理输入完整性的方法</strong>。在系统实现给定窗口的输出之前，我们知道系统还不确定输入是完整的。这对于您想要推断输入中丢失数据或延迟数据尤为重要；</p>
<p><br></p>
<p>处理outer join情况，何时放弃并发出部分连接而不是继续等待连接完成？缺乏真正水印支持的流媒体系统的常用方法是基于处理时间，然后延迟固定时间做出决定，但是这种处理方法是不靠谱的，因为<strong>事件时间偏差有各种可能性（和多种因素有关，例如某个固定时间点数据峰值，有时数据处理很快，有时数据处理很慢）</strong>；从这个角度来看，事件时间水印是许多真实流媒体用例的关键部分，它必须可以推断出输入流中的延迟数据；</p>
<p><br></p>
<p>水印的两个缺点：</p>
<ol>
<li>太慢：延迟性</li>
</ol>
<p>这是显而易见的，水印会推断数据有没有到齐，如果没有到齐，肯定会等待并处理延迟数据，尤其是对于完美式水印来说，</p>
<p>如2-10 的左图情况，为了等待12:00 - 12:02 中迟到的数据9，处理时间一直等待了9分钟才处理完，严重延迟了获得窗口结果的时间；虽然左图是完美式水印，但是启发式的水印同样会有这样的问题，只是在图中没有表示出来；</p>
<p>尽管水印提供了一个非常有用的完整性概念，但从延迟的角度来看，根据产生输出的完整性而采用缓存窗口内数据并最终计算一次通常并不理想。想象一个仪表板，其中包含有价值的指标，按小时或天显示。您不太可能想要等待整整一小时或一天才能看到当前窗口的结果;这是使用传统批处理系统为这些系统提供结果的难点之一。相反，<strong>随着输入的发展并最终变得完整</strong>，<strong>随着时间的推移，这些窗口的结果会变得更好，才是好的解决方案</strong></p>
<p><br></p>
<ol>
<li>太快 ( 有时会出错，即丢掉了部分延迟数据 )  ：数据的不准确性</li>
</ol>
<p>当启发式水印错误地提前超过真正的水印时，就会出现延迟数据。这就是右边示例中发生的情况：在观察到该窗口的所有输入数据之前，水印超过了第一个窗口的末尾，导致输出值不正确而不是14。这个缺点严格来说是启发式水印问题，<strong>他们的启发性意味着他们有时会出错</strong>。因此，如果您关心正确性，单靠启发式水印来确定何时实现输出是不够的。</p>
<p><br></p>
<p><strong>突破点 ( 厉害的点 )</strong> ：重复更新触发器解决了低延迟的问题，但无法保证数据的完整性，watermark提供了推断完整性的概念但是可能会导致较高的延迟，so，为什么不将他们组合在一起呢？</p>
<p><br></p>
<p>when ( 早期 / 准时 / 晚期 )  触发器：本质其实就是：<strong>重复更新触发器 + 完整性触发器 ( wtermark )</strong>    </p>
<p>Beam提供了一种水印(完整性触发器)的扩展，该触发器还支持水印两侧的重复更新触发，称为早期/准时/晚期触发器</p>
<p><br></p>
<ol>
<li>早期触发器：</li>
</ol>
<p>0个或多个watermark，属于<strong>重复更新触发器</strong>，定期触发，直到窗口结束，允许我们随着新输入数据的到来观察窗口随时间的演变。这<strong>弥补了水印有时会产生延时的缺点</strong>。</p>
<ol>
<li>准时触发器</li>
</ol>
<p>单个准时触发器，属于<strong>完整性触发器(watermark)</strong>，本质是一种断言，窗口看到这个触发器说明此窗口数据已经完整了；</p>
<ol>
<li>延迟触发器</li>
</ol>
<p>0个或多个延迟的触发器，是<strong>一种特殊的重复更新触发器</strong>，在准时触发器(水印)通过窗口结束后，<strong>延迟数据到达时触发</strong>，所以完美水印的情况下，此值一直为0，但启发式水印下，可能会触发，<strong>弥补了水印太快导致数据错误的缺点</strong></p>
<p><br></p>
<p>现在，在我们的数据pipline中，使用此<strong>周期性处理时间触发器(也就是上述三个触发器组合的方式)</strong>，对于早期数据，使用触发器且对齐延迟为一分钟，对于晚期数据，使用延迟触发器。这样，早期的启动将为我们提供大量窗口的批量处理（由于触发器每分钟只会触发一次，无论窗口的吞吐量如何），如果我们使用相当准确的启发式水印，那么对于晚期数据，我们不会引入不必要的延迟(当然：这件事的希望有些渺茫)</p>
<img src="/clay4444.github.io/posts/613fbfdf/figure2-11.png">
<p><br></p>
<p>对于数据延迟的问题来说，每分钟一次的定期更新触发器，很大程度缓解了水印太慢的情况，如图，无论是完美式水印或者启发式水印，每隔一分钟就会有输出，用户体验也好了，数据延迟也是最低的；</p>
<p>对于数据准确性的问题来说，12:00 - 12:02 丢失的数据9，后来也合并到了5上，变成了14，解决了数据丢失的问题；</p>
<p><br></p>
<p>由于使用了水印触发器，我们还可以推断出我们生成的结果中的输入，使我们可以更好地处理和关注产生延迟数据的情况，以便及时发现系统可能存在的问题；</p>
<p><br></p>
<p><br></p>
<p>when   ( allow latency  )</p>
<p>完美式水印和启发式(早期 / 准时 / 延迟  ( 触发器 ) ) 之间最大的差异是<strong>窗口生命周期限制</strong>。在完美的水印情况下，我们知道在<strong>水印结束后我们永远不会再看到窗口的数据</strong>，因此我们可以在那时删除窗口的所有状态。在启发式水印的情况下，我们<strong>仍然需要保持一个窗口的状态一段时间来考虑后期数据</strong>。但到目前为止，<strong>我们的系统没有任何好的方法可以知道每个窗口需要保持多长时间状态</strong>。这就是<strong>allow latency</strong> 出现的原因</p>
<p><br></p>
<p>在长期无序的流处理系统中的垃圾收集的重要性：在图2-11中的启发式水印示例中，每个窗口的持久状态在示例的整个生命周期中一致存在，这是必要的，以便我们能够在他们到达时适当处理迟到的数据。但是，虽然能够保持所有持久状态直到时间结束会很棒，但实际上，在处理无限数据源时，无限期地保持给定窗口的状态（包括元数据）通常是不切实际的。 我们最终会耗尽磁盘空间 ( 不能无限期的保存事件时间窗口的数据 )</p>
<p><br></p>
<p>注意点:  之前我曾有些纠结点：延迟触发器 的作用不就是处理延迟数据的吗？为什么还要allow latency 呢？其实想一下就会明白，我们不能一直保存着每个事件时间窗口的所有状态数据，这也就是导致了：延迟触发器不可能一直有效果，<strong>allow latency 过期的时候，也就是延迟触发器失效的时候</strong></p>
<p><br></p>
<p>因此，任何一个流系统都需要提供一个方法限制它正在处理的事件时间窗口的生命周期。一种干净简洁的方法是通过定义系统内允许的迟到范围;也就是说，限制任何给定记录的延迟时间（<strong>相对于水印</strong>），系统要对其进行处理;任何在此视野之后到达的数据都会被删除。在你限制了个别数据的延迟之后，你还确切地确定了窗口的状态必须保持的时间范围：直到水印超过窗口末端的延迟范围。</p>
<p><br></p>
<p>关键点：我们使用水印（针对的是<strong>事件时间</strong>）作为窗口结束的标志的原因是：可用的选项中它是做好的，另一个选择是指定处理时间的范围（例如，<strong>在水印通过窗口结束后保持窗口处理10分钟的处理时间</strong>），但使用处理时间会使垃圾收集策略容易受到问题的影响，例如数据处理pipline的过程中崩溃了几分钟，而这几分钟正是我们处理延迟数据的几分钟， 这可能导致窗口实际上没有机会处理他们原本应该处理的延迟数据，但是通过在事件时间中(也就是水印) 指定范围，<strong>垃圾收集直接与管道的实际进度相关联</strong>，降低了窗口错过其适当处理延迟数据的机会的可能性，也就是说：如果数据处理pipline中整体数据处理的比较慢，那么watermark 这条曲线就比较陡，那么allow latency 延迟时间就会比较长，也就是需要更多的时间处理延迟数据，而如果watermark 这条曲线变得比较平缓了，说明此时数据处理就比较快了，那么此时allow latency 延迟时间就会比较短，这也是垃圾收集直接与管道的实际进度相关联的意思。</p>
<p><br></p>
<p>我们所说的水印一般情况下都是<strong>低水位标记</strong>：它们会悲观地尝试捕获系统所知道的最旧的未处理记录的事件时间，通过这种方式处理延迟数据的好处是它们能够适应事件时间偏差的变化，无论管道中的偏差 ( 处理时间减去事件时间 )有多大，低水印都将始终跟踪系统已知的最古老的突出事件，从而提供可能的正确性的最佳保证。</p>
<p><br></p>
<p>相反，一些系统可能使用术语“水印”来表示其他事物。例如，Spark Structured Streaming中的水印是高水印，它乐观地跟踪系统所知道的最新记录的事件时间。当处理迟到时，系统可以自由地收集在这个时间段内的延迟数据( 这个时间段指的就是高水印时间减去用户指定的阈值 )  换句话说，系统允许您指定预期在管道中看到的最大事件时间偏差量，然后丢弃该窗口之外的任何数据。<strong>如果管道中的偏差保持在某个恒定的增量范围内，这可以很好地工作</strong>，但是比低水印方案更容易产生丢失数据。</p>
<p><br></p>
<p>一分钟的水印延迟图示</p>
<img src="/clay4444.github.io/posts/613fbfdf/figure2-12.png">
<p>注意点：延迟范围指的是，水印延迟一分钟，也就是：<strong>事件时间延迟一分钟，然后对应的处理时间，就是窗口的最终结果</strong>，  而不是处理时间延迟一分钟，</p>
<p><br></p>
<p>仅对于此图，我为第一个窗口添加了一个额外的后期数据，其值为6，这6个是迟到的，但仍然在允许的延迟范围内，因此被合并到值为11的更新结果中。然而，9超过了最终的处理时间点，所以它直接被丢弃了</p>
<p><br></p>
<p>如果您正在使用来自可获得完美水印的数据源的数据，则无需处理延迟数据，并且允许零秒的延迟时间范围将是最佳的</p>
<p><br></p>
<p><br></p>
<h4 id="streaming-how-：数据之间如何联系"><a href="#streaming-how-：数据之间如何联系" class="headerlink" title="streaming  : how   ：数据之间如何联系"></a>streaming  : how   ：数据之间如何联系</h4><p>当触发器用于为一个窗口生成多个窗格时（重复更新触发器触发一次，就生成一个窗格），我们发现自己遇到了最后一个问题：“结果的细化如何相关？”在我们到目前为止看到的示例中，每个窗格产生的数据都累加到前一个窗格的数据之上。然而，实际上有三种不同的积累方式：</p>
<ol>
<li>丢弃模式：对于每一个pane的输出结果都是独立的。</li>
<li>累积模式：每次实现窗格结果时，都会保留所有的存储状态，并且将来的输入数据将累积到现有状态。这意味着每个连续的窗格都基于先前的窗格。<strong>当后续结果可以简单地覆盖以前的结果时</strong>，累积模式很有用，例如将输出存储在HBase或Bigtable等键/值存储中时</li>
<li>累加和撤回：与累加模式大致相同，不同的地方是：输出新的状态的时候，<strong>撤销并替换上个状态的结果</strong>；在以下两种情况时比较有用<ol>
<li>当下游消费者按不同维度重新组合数据时，新值最终可能最终与前一个值不同，因此最终会出现在不同的组中。在这种情况下，新值不能只覆盖旧值，此时需要撤消以删除旧值</li>
<li>动态表</li>
</ol>
</li>
</ol>
<p><br></p>
<p>考虑图2-11中的第二个窗口（具有事件时间范围[12：06,12：08）的窗格）</p>
<p>这三种模式下的情况如下表格所示</p>
<table>
<thead>
<tr>
<th></th>
<th>丢弃模式</th>
<th>累积模式</th>
<th>累积+撤回模式</th>
</tr>
</thead>
<tbody>
<tr>
<td>pane1</td>
<td>3</td>
<td>3</td>
<td>3</td>
</tr>
<tr>
<td>pane2</td>
<td>9</td>
<td>12</td>
<td>12,-3</td>
</tr>
<tr>
<td>pane</td>
<td>9</td>
<td>12</td>
<td>12</td>
</tr>
<tr>
<td>sum of pane</td>
<td>12</td>
<td>15</td>
<td>12</td>
</tr>
</tbody>
</table>
<p><br></p>
<ol>
<li>丢弃模式</li>
</ol>
<p>每个窗格仅包含在该特定窗格期间到达的值。因此，观察到的最终值并未完全捕获总和。但是，如果您要自己对所有独立窗格求和，则会得到12的正确答案。这就是当下游消费者本身在物化窗格上执行某种聚合时，丢弃模式很有用的原因。</p>
<p><br></p>
<ol>
<li>累积模式</li>
</ol>
<p>每个窗格都包含在该特定窗格期间到达的值以及先前窗格中的所有值。因此，正确观察到的最终值会捕获12的总和。但是，如果您要自己总结各个窗格，那么您实际上会对窗格1中的输入进行重复计算，从而得出不正确的总和15，这就是为什么当你可以用新值覆盖以前的值时，累积模式最有用的原因：<strong>新值已经包含了到目前为止看到的所有数据</strong></p>
<p><br></p>
<ol>
<li>累积&amp;撤回模式</li>
</ol>
<p><strong>每个窗格都包含新的累积模式值以及前一个窗格值的撤回</strong>。因此，观察到的最后一个值（不包括撤回）以及所有物化窗格的总和（包括撤消）都为您提供了12的正确答案。这就是撤消如此强大的原因。</p>
<p><br></p>
<p>丢弃模式图示</p>
<img src="/clay4444.github.io/posts/613fbfdf/figure2-13.png">
<p>此丢弃版本中的任何窗格都不会重叠。结果，每个输出pane都独立于其他输出pane</p>
<p><br></p>
<p>撤回模式图示</p>
<img src="/clay4444.github.io/posts/613fbfdf/figure2-14.png">
<p>撤回用红色表示，它与重叠的蓝色窗格结合，产生略带紫色的颜色</p>
<p><br></p>
<p>整体对比图示</p>
<img src="/clay4444.github.io/posts/613fbfdf/figure2-15.png">
<p><br></p>
<p>这三种模式：在存储和计算成本方面逐步提高，需要我们在正确性，延迟和成本方面进行权衡</p>
<p><br></p>
<h4 id="总结"><a href="#总结" class="headerlink" title="总结"></a>总结</h4><p>Windowing：通过在时间边界上切片来管理无界数据的常用方法，但是在以后的讨论中大部分都都是基于事件时间</p>
<p><br></p>
<p>Triggers：用于精确指定窗口输出的时机</p>
<p><br></p>
<p>Watermarks：事件时间进展的强大概念，提供了一种在无界数据上运行的无序处理系统中推理完整性（从而丢失数据）的方法</p>
<p><br></p>
<p>Accumulation：单个窗口的结果细化之间的关系</p>

    </article>
    <!-- license  -->
    
        <div class="license-wrapper">
            <p>原文作者：<a href="http://clay4444.github.io">clay</a>
            </p><p>原文链接：<a href="http://clay4444.github.io/posts/613fbfdf/">http://clay4444.github.io/posts/613fbfdf/</a>
            </p><p>发表日期：<a href="http://clay4444.github.io/posts/613fbfdf/">February 11th 2019, 5:12:46 pm</a>
            </p><p>更新日期：<a href="http://clay4444.github.io/posts/613fbfdf/">February 17th 2019, 4:04:14 pm</a>
            </p><p>版权声明：本文采用<a rel="license" href="http://creativecommons.org/licenses/by-nc/4.0/">知识共享署名-非商业性使用 4.0 国际许可协议</a>进行许可</p>
        </div>
    
    <!-- paginator  -->
    <ul class="post-paginator">
        <li class="next">
            
                <div class="nextSlogan">Next Post</div>
                <a href="/clay4444.github.io/posts/98dde65a/" title="StreamingSystem第三章总结">
                    <div class="nextTitle">StreamingSystem第三章总结</div>
                </a>
            
        </li>
        <li class="previous">
            
                <div class="prevSlogan">Previous Post</div>
                <a href="/clay4444.github.io/posts/6f100083/" title="TwoPhaseCommitSinkFunction">
                    <div class="prevTitle">TwoPhaseCommitSinkFunction</div>
                </a>
            
        </li>
    </ul>
    <!-- 评论插件 -->
    <!-- 来必力City版安装代码 -->

<!-- City版安装代码已完成 -->
    
    
    <!-- partial('_partial/comment/changyan') -->
    <!--PC版-->


    
    

    <!-- 评论 -->
</main>
            <!-- profile -->
            
        </div>
        <footer class="footer footer-unloaded">
    <!-- social  -->
    
    <div class="social">
        
    
        
            
                <a href="mailto:clay4444@126.com" class="iconfont-archer email" title="email"></a>
            
        
    
        
            
                <a href="//github.com/clay4444" class="iconfont-archer github" target="_blank" title="github"></a>
            
        
    
        
            
                <span class="iconfont-archer wechat" title="wechat">
                  
                  <img class="profile-qr" src="/clay4444.github.io/assets/example_qr.png">
                </span>
            
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    

    </div>
    
    <!-- powered by Hexo  -->
    <div class="copyright">
        <span id="hexo-power">Powered by <a href="https://hexo.io/" target="_blank">Hexo</a></span><span class="iconfont-archer power">&#xe635;</span><span id="theme-info">theme <a href="https://github.com/fi3ework/hexo-theme-archer" target="_blank">Archer</a></span>
    </div>
    <!-- 不蒜子  -->
    
    <div class="busuanzi-container">
    
     
    <span id="busuanzi_container_site_pv">PV: <span id="busuanzi_value_site_pv"></span> :)</span>
    
    </div>
    
</footer>
    </div>
    <!-- toc -->
    
    <div class="toc-wrapper" style=
    







top:50vh;

    >
        <div class="toc-catalog">
            <span class="iconfont-archer catalog-icon">&#xe613;</span><span>CATALOG</span>
        </div>
        <ol class="toc"><li class="toc-item toc-level-3"><a class="toc-link" href="#autor"><span class="toc-number">1.</span> <span class="toc-text">autor</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#最重要的两个概念"><span class="toc-number">1.1.</span> <span class="toc-text">最重要的两个概念</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#chapter1"><span class="toc-number">2.</span> <span class="toc-text">chapter1</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#event-time-vs-processing-time"><span class="toc-number">2.1.</span> <span class="toc-text">event time vs processing time</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#常见的数据处理模式"><span class="toc-number">2.2.</span> <span class="toc-text">常见的数据处理模式</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#chapter2"><span class="toc-number">3.</span> <span class="toc-text">chapter2</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#Triggers-触发器"><span class="toc-number">3.1.</span> <span class="toc-text">Triggers 触发器</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#Watermarks"><span class="toc-number">3.2.</span> <span class="toc-text">Watermarks</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#Accumulation-累积模式"><span class="toc-number">3.3.</span> <span class="toc-text">Accumulation  累积模式</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#四个问题"><span class="toc-number">3.4.</span> <span class="toc-text">四个问题</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#批处理基石：what-where"><span class="toc-number">3.5.</span> <span class="toc-text">批处理基石：what  where</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#streaming-：when"><span class="toc-number">3.6.</span> <span class="toc-text">streaming  ：when</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#streaming-how-：数据之间如何联系"><span class="toc-number">3.7.</span> <span class="toc-text">streaming  : how   ：数据之间如何联系</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#总结"><span class="toc-number">3.8.</span> <span class="toc-text">总结</span></a></li></ol></li></ol>
    </div>
    
    <div class="back-top iconfont-archer">&#xe639;</div>
    <div class="sidebar sidebar-hide">
    <ul class="sidebar-tabs sidebar-tabs-active-0">
        <li class="sidebar-tab-archives"><span class="iconfont-archer">&#xe67d;</span><span class="tab-name">Archive</span></li>
        <li class="sidebar-tab-tags"><span class="iconfont-archer">&#xe61b;</span><span class="tab-name">Tag</span></li>
        <li class="sidebar-tab-categories"><span class="iconfont-archer">&#xe666;</span><span class="tab-name">Cate</span></li>
    </ul>
    <div class="sidebar-content sidebar-content-show-archive">
          <div class="sidebar-panel-archives">
    <!-- 在ejs中将archive按照时间排序 -->
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    <div class="total-and-search">
        <div class="total-archive">
        Total : 150
        </div>
        <!-- search  -->
        
    </div>
    
    <div class="post-archive">
    
    
    
    
    <div class="archive-year"> 2019 </div>
    <ul class="year-list">
    
    
        <li class="archive-post-item">
            <span class="archive-post-date">02/26</span><a class="archive-post-title" href="/clay4444.github.io/posts/5a6a5509/">算法基础第八课</a>
        </li>
    
    
        <li class="archive-post-item">
            <span class="archive-post-date">02/24</span><a class="archive-post-title" href="/clay4444.github.io/posts/ad017d4a/">算法基础第七课</a>
        </li>
    
    
        <li class="archive-post-item">
            <span class="archive-post-date">02/24</span><a class="archive-post-title" href="/clay4444.github.io/posts/1a0f410c/">算法基础第五课</a>
        </li>
    
    
        <li class="archive-post-item">
            <span class="archive-post-date">02/24</span><a class="archive-post-title" href="/clay4444.github.io/posts/7591844b/">算法基础第四课</a>
        </li>
    
    
        <li class="archive-post-item">
            <span class="archive-post-date">02/23</span><a class="archive-post-title" href="/clay4444.github.io/posts/c2bc9d2e/">算法基础第三课</a>
        </li>
    
    
        <li class="archive-post-item">
            <span class="archive-post-date">02/22</span><a class="archive-post-title" href="/clay4444.github.io/posts/5c06dc97/">Flink中startNewChain和SlotSharingGroup的区别</a>
        </li>
    
    
        <li class="archive-post-item">
            <span class="archive-post-date">02/20</span><a class="archive-post-title" href="/clay4444.github.io/posts/8fa23e7c/">算法基础第二课</a>
        </li>
    
    
        <li class="archive-post-item">
            <span class="archive-post-date">02/17</span><a class="archive-post-title" href="/clay4444.github.io/posts/bfb4d2a4/">算法基础第一课</a>
        </li>
    
    
        <li class="archive-post-item">
            <span class="archive-post-date">02/15</span><a class="archive-post-title" href="/clay4444.github.io/posts/6e3b6e5d/">kafka权威指南第一章</a>
        </li>
    
    
        <li class="archive-post-item">
            <span class="archive-post-date">02/15</span><a class="archive-post-title" href="/clay4444.github.io/posts/98dde65a/">StreamingSystem第三章总结</a>
        </li>
    
    
        <li class="archive-post-item">
            <span class="archive-post-date">02/11</span><a class="archive-post-title" href="/clay4444.github.io/posts/613fbfdf/">StreamingSystem一二章总结</a>
        </li>
    
    
    
    
    
        </ul>
    
    <div class="archive-year"> 2018 </div>
    <ul class="year-list">
    
    
        <li class="archive-post-item">
            <span class="archive-post-date">12/01</span><a class="archive-post-title" href="/clay4444.github.io/posts/6f100083/">TwoPhaseCommitSinkFunction</a>
        </li>
    
    
        <li class="archive-post-item">
            <span class="archive-post-date">11/03</span><a class="archive-post-title" href="/clay4444.github.io/posts/b8ce2b2d/">sql语句中where与having的区别</a>
        </li>
    
    
        <li class="archive-post-item">
            <span class="archive-post-date">10/07</span><a class="archive-post-title" href="/clay4444.github.io/posts/5bb24833/">ElasticSearch入门（三）</a>
        </li>
    
    
        <li class="archive-post-item">
            <span class="archive-post-date">10/07</span><a class="archive-post-title" href="/clay4444.github.io/posts/16aceb61/">ElasticSearch入门（二）</a>
        </li>
    
    
        <li class="archive-post-item">
            <span class="archive-post-date">10/07</span><a class="archive-post-title" href="/clay4444.github.io/posts/26ba07b9/">ElasticSearch入门（一）</a>
        </li>
    
    
        <li class="archive-post-item">
            <span class="archive-post-date">10/07</span><a class="archive-post-title" href="/clay4444.github.io/posts/dfa909ab/">Flink的Metrics与监控</a>
        </li>
    
    
        <li class="archive-post-item">
            <span class="archive-post-date">10/06</span><a class="archive-post-title" href="/clay4444.github.io/posts/6a73b0f6/">Flink状态管理与恢复机制</a>
        </li>
    
    
        <li class="archive-post-item">
            <span class="archive-post-date">10/06</span><a class="archive-post-title" href="/clay4444.github.io/posts/827d698b/">Flink的Window与Time</a>
        </li>
    
    
        <li class="archive-post-item">
            <span class="archive-post-date">10/06</span><a class="archive-post-title" href="/clay4444.github.io/posts/589f5c61/">DataStreamAPI</a>
        </li>
    
    
        <li class="archive-post-item">
            <span class="archive-post-date">10/05</span><a class="archive-post-title" href="/clay4444.github.io/posts/4042ab31/">Flink基本概念与部署</a>
        </li>
    
    
        <li class="archive-post-item">
            <span class="archive-post-date">06/04</span><a class="archive-post-title" href="/clay4444.github.io/posts/22d66bb6/">Hive常见优化</a>
        </li>
    
    
        <li class="archive-post-item">
            <span class="archive-post-date">06/03</span><a class="archive-post-title" href="/clay4444.github.io/posts/ce3cc54d/">zookeeper为什么一定要配置成奇数台</a>
        </li>
    
    
        <li class="archive-post-item">
            <span class="archive-post-date">06/02</span><a class="archive-post-title" href="/clay4444.github.io/posts/8bea7439/">MySql锁机制及索引</a>
        </li>
    
    
        <li class="archive-post-item">
            <span class="archive-post-date">06/02</span><a class="archive-post-title" href="/clay4444.github.io/posts/767c3cbc/">TCP三次握手-四次挥手面试总结</a>
        </li>
    
    
        <li class="archive-post-item">
            <span class="archive-post-date">06/02</span><a class="archive-post-title" href="/clay4444.github.io/posts/6d00129c/">自旋锁</a>
        </li>
    
    
        <li class="archive-post-item">
            <span class="archive-post-date">06/01</span><a class="archive-post-title" href="/clay4444.github.io/posts/1922d0f6/">常见海量处理题目解题关键</a>
        </li>
    
    
        <li class="archive-post-item">
            <span class="archive-post-date">05/28</span><a class="archive-post-title" href="/clay4444.github.io/posts/db7f9c/">深入理解spark之架构与原理</a>
        </li>
    
    
        <li class="archive-post-item">
            <span class="archive-post-date">05/25</span><a class="archive-post-title" href="/clay4444.github.io/posts/b1a1506f/">查找两个数组的相同字符（两个超大文件的相同字符）</a>
        </li>
    
    
        <li class="archive-post-item">
            <span class="archive-post-date">05/16</span><a class="archive-post-title" href="/clay4444.github.io/posts/4ad64663/">MapReduce框架结构及核心运行机制</a>
        </li>
    
    
        <li class="archive-post-item">
            <span class="archive-post-date">05/16</span><a class="archive-post-title" href="/clay4444.github.io/posts/44c10193/">MapReduce的Task并行度决定机制</a>
        </li>
    
    
        <li class="archive-post-item">
            <span class="archive-post-date">05/16</span><a class="archive-post-title" href="/clay4444.github.io/posts/57f823bb/">MR之参数优化</a>
        </li>
    
    
        <li class="archive-post-item">
            <span class="archive-post-date">05/16</span><a class="archive-post-title" href="/clay4444.github.io/posts/9799c850/">MR中的计数器、job串联等功能实现</a>
        </li>
    
    
        <li class="archive-post-item">
            <span class="archive-post-date">05/16</span><a class="archive-post-title" href="/clay4444.github.io/posts/68d67dd4/">Mapreduce中的DistributedCache应用</a>
        </li>
    
    
        <li class="archive-post-item">
            <span class="archive-post-date">05/16</span><a class="archive-post-title" href="/clay4444.github.io/posts/403d9f31/">MR之自定义outputFormat</a>
        </li>
    
    
        <li class="archive-post-item">
            <span class="archive-post-date">05/03</span><a class="archive-post-title" href="/clay4444.github.io/posts/9c6cea3b/">Spring注解驱动开发之组件注册</a>
        </li>
    
    
        <li class="archive-post-item">
            <span class="archive-post-date">04/23</span><a class="archive-post-title" href="/clay4444.github.io/posts/44e5bf34/">Git中fork和clone的区别，fetch与pull的区别</a>
        </li>
    
    
        <li class="archive-post-item">
            <span class="archive-post-date">03/27</span><a class="archive-post-title" href="/clay4444.github.io/posts/9b145405/">Log4J与slf4j使用详解</a>
        </li>
    
    
        <li class="archive-post-item">
            <span class="archive-post-date">03/16</span><a class="archive-post-title" href="/clay4444.github.io/posts/eeeb2ca/">Java中的几种引用类型：强引用、软引用、弱引用和虚引用</a>
        </li>
    
    
        <li class="archive-post-item">
            <span class="archive-post-date">03/12</span><a class="archive-post-title" href="/clay4444.github.io/posts/b391d3f0/">scala函数式编程和集合进阶</a>
        </li>
    
    
        <li class="archive-post-item">
            <span class="archive-post-date">03/12</span><a class="archive-post-title" href="/clay4444.github.io/posts/ccad62d6/">scala的面向对象和操作符</a>
        </li>
    
    
        <li class="archive-post-item">
            <span class="archive-post-date">03/12</span><a class="archive-post-title" href="/clay4444.github.io/posts/90c61e02/">scala数据类型等基本操作</a>
        </li>
    
    
        <li class="archive-post-item">
            <span class="archive-post-date">03/11</span><a class="archive-post-title" href="/clay4444.github.io/posts/c640a1d5/">Java9之模块化和REPL工具</a>
        </li>
    
    
        <li class="archive-post-item">
            <span class="archive-post-date">03/09</span><a class="archive-post-title" href="/clay4444.github.io/posts/41355ae3/">Spark作业提交执行流程及底层实现介绍</a>
        </li>
    
    
        <li class="archive-post-item">
            <span class="archive-post-date">03/09</span><a class="archive-post-title" href="/clay4444.github.io/posts/1761f4b4/">Spark数据倾斜问题</a>
        </li>
    
    
        <li class="archive-post-item">
            <span class="archive-post-date">03/09</span><a class="archive-post-title" href="/clay4444.github.io/posts/3fb5d1b7/">SparkRDD弹性分布式数据集简介及RDD变换</a>
        </li>
    
    
        <li class="archive-post-item">
            <span class="archive-post-date">03/09</span><a class="archive-post-title" href="/clay4444.github.io/posts/77c338dd/">IDEA编译scala文件时不会把scala文件打包的解决办法</a>
        </li>
    
    
        <li class="archive-post-item">
            <span class="archive-post-date">03/09</span><a class="archive-post-title" href="/clay4444.github.io/posts/b5801fa4/">Spark简介及wc实现</a>
        </li>
    
    
        <li class="archive-post-item">
            <span class="archive-post-date">03/08</span><a class="archive-post-title" href="/clay4444.github.io/posts/97e35c7b/">Storm的分组策略和确保消息送达机制</a>
        </li>
    
    
        <li class="archive-post-item">
            <span class="archive-post-date">03/08</span><a class="archive-post-title" href="/clay4444.github.io/posts/d5a66bc5/">Storm和kafka、Hbase之间的整合</a>
        </li>
    
    
        <li class="archive-post-item">
            <span class="archive-post-date">03/08</span><a class="archive-post-title" href="/clay4444.github.io/posts/9799a940/">Storm架构及其资源分配问题</a>
        </li>
    
    
        <li class="archive-post-item">
            <span class="archive-post-date">03/08</span><a class="archive-post-title" href="/clay4444.github.io/posts/f7fb5894/">详解Hbase的协处理器coprocessor</a>
        </li>
    
    
        <li class="archive-post-item">
            <span class="archive-post-date">03/08</span><a class="archive-post-title" href="/clay4444.github.io/posts/e1de3e9b/">详解Hbase的rowKey设计（热点问题）和Hbase中的布隆过滤器</a>
        </li>
    
    
        <li class="archive-post-item">
            <span class="archive-post-date">03/08</span><a class="archive-post-title" href="/clay4444.github.io/posts/67e1a306/">Hbase和Hive的集成</a>
        </li>
    
    
        <li class="archive-post-item">
            <span class="archive-post-date">03/08</span><a class="archive-post-title" href="/clay4444.github.io/posts/e73169bb/">详解hbase扫描、过滤、缓存等问题</a>
        </li>
    
    
        <li class="archive-post-item">
            <span class="archive-post-date">03/08</span><a class="archive-post-title" href="/clay4444.github.io/posts/615ff67f/">详解hbase架构、数据读取、存储、拆分风暴等问题</a>
        </li>
    
    
        <li class="archive-post-item">
            <span class="archive-post-date">03/08</span><a class="archive-post-title" href="/clay4444.github.io/posts/cedf1ac1/">kafka消息队列初探</a>
        </li>
    
    
        <li class="archive-post-item">
            <span class="archive-post-date">03/08</span><a class="archive-post-title" href="/clay4444.github.io/posts/117ed1fe/">Flume日志收集框架初探</a>
        </li>
    
    
        <li class="archive-post-item">
            <span class="archive-post-date">03/02</span><a class="archive-post-title" href="/clay4444.github.io/posts/305a7ab3/">数字证书及CA的扫盲介绍</a>
        </li>
    
    
        <li class="archive-post-item">
            <span class="archive-post-date">03/02</span><a class="archive-post-title" href="/clay4444.github.io/posts/edc108ac/">扫盲DNS原理，兼谈域名劫持和域名欺骗+域名污染</a>
        </li>
    
    
        <li class="archive-post-item">
            <span class="archive-post-date">03/02</span><a class="archive-post-title" href="/clay4444.github.io/posts/649d866d/">扫盲HTTPS和SSL、TLS协议[2]：可靠密钥交换的难点，以及身份认证的必要性</a>
        </li>
    
    
        <li class="archive-post-item">
            <span class="archive-post-date">03/02</span><a class="archive-post-title" href="/clay4444.github.io/posts/9194e3d6/">扫盲HTTPS和SSL、TLS协议[1]：背景知识、协议的需求、设计的难点</a>
        </li>
    
    
        <li class="archive-post-item">
            <span class="archive-post-date">03/01</span><a class="archive-post-title" href="/clay4444.github.io/posts/fdf5e3ed/">死锁及其解决办法</a>
        </li>
    
    
        <li class="archive-post-item">
            <span class="archive-post-date">03/01</span><a class="archive-post-title" href="/clay4444.github.io/posts/969c35d/">并发编程实战(八)</a>
        </li>
    
    
        <li class="archive-post-item">
            <span class="archive-post-date">02/28</span><a class="archive-post-title" href="/clay4444.github.io/posts/c03b7c51/">并发编程实战(七)</a>
        </li>
    
    
        <li class="archive-post-item">
            <span class="archive-post-date">02/27</span><a class="archive-post-title" href="/clay4444.github.io/posts/5f3364db/">并发编程实战(六)</a>
        </li>
    
    
        <li class="archive-post-item">
            <span class="archive-post-date">02/27</span><a class="archive-post-title" href="/clay4444.github.io/posts/c63c2ca9/">并发编程实战(五)</a>
        </li>
    
    
        <li class="archive-post-item">
            <span class="archive-post-date">02/26</span><a class="archive-post-title" href="/clay4444.github.io/posts/4a0a5133/">Java中的Runnable、Callable、Future、FutureTask的区别与示例</a>
        </li>
    
    
        <li class="archive-post-item">
            <span class="archive-post-date">02/25</span><a class="archive-post-title" href="/clay4444.github.io/posts/92f9baae/">关于JdbcConnection的线程安全问题</a>
        </li>
    
    
        <li class="archive-post-item">
            <span class="archive-post-date">02/25</span><a class="archive-post-title" href="/clay4444.github.io/posts/c2c02cf/">关于HttpSession的线程安全问题</a>
        </li>
    
    
        <li class="archive-post-item">
            <span class="archive-post-date">02/24</span><a class="archive-post-title" href="/clay4444.github.io/posts/3ad494db/">并发编程实战(三)</a>
        </li>
    
    
        <li class="archive-post-item">
            <span class="archive-post-date">02/24</span><a class="archive-post-title" href="/clay4444.github.io/posts/c0977bd4/">并发编程实战(四)</a>
        </li>
    
    
        <li class="archive-post-item">
            <span class="archive-post-date">02/23</span><a class="archive-post-title" href="/clay4444.github.io/posts/4427b4f0/">并发编程实战(二)</a>
        </li>
    
    
        <li class="archive-post-item">
            <span class="archive-post-date">02/23</span><a class="archive-post-title" href="/clay4444.github.io/posts/eb162f92/">并发编程实战(一)</a>
        </li>
    
    
        <li class="archive-post-item">
            <span class="archive-post-date">02/12</span><a class="archive-post-title" href="/clay4444.github.io/posts/987ce803/">MR之自定义inputFormat</a>
        </li>
    
    
        <li class="archive-post-item">
            <span class="archive-post-date">02/12</span><a class="archive-post-title" href="/clay4444.github.io/posts/af70e59d/">MR之自定义GroupingComparator</a>
        </li>
    
    
        <li class="archive-post-item">
            <span class="archive-post-date">02/12</span><a class="archive-post-title" href="/clay4444.github.io/posts/a2cd52e0/">MR之社交粉丝数据查找共同好友</a>
        </li>
    
    
        <li class="archive-post-item">
            <span class="archive-post-date">02/12</span><a class="archive-post-title" href="/clay4444.github.io/posts/cc1873ed/">MR之流量统计相关需求</a>
        </li>
    
    
        <li class="archive-post-item">
            <span class="archive-post-date">01/29</span><a class="archive-post-title" href="/clay4444.github.io/posts/f932ba85/">数据结构之图</a>
        </li>
    
    
        <li class="archive-post-item">
            <span class="archive-post-date">01/27</span><a class="archive-post-title" href="/clay4444.github.io/posts/afe7cf7/">栈的经典应用之中缀表达式和后缀表达式</a>
        </li>
    
    
        <li class="archive-post-item">
            <span class="archive-post-date">01/26</span><a class="archive-post-title" href="/clay4444.github.io/posts/39aa6912/">数据结构之二叉树</a>
        </li>
    
    
        <li class="archive-post-item">
            <span class="archive-post-date">01/23</span><a class="archive-post-title" href="/clay4444.github.io/posts/409910e4/">数据结构之散列表</a>
        </li>
    
    
        <li class="archive-post-item">
            <span class="archive-post-date">01/21</span><a class="archive-post-title" href="/clay4444.github.io/posts/6c17d6bd/">数据结构之树</a>
        </li>
    
    
        <li class="archive-post-item">
            <span class="archive-post-date">01/19</span><a class="archive-post-title" href="/clay4444.github.io/posts/786266a6/">Java之Iterator与Iterable的区别</a>
        </li>
    
    
        <li class="archive-post-item">
            <span class="archive-post-date">01/17</span><a class="archive-post-title" href="/clay4444.github.io/posts/1c652596/">JDK1.7-Stack源码分析</a>
        </li>
    
    
        <li class="archive-post-item">
            <span class="archive-post-date">01/16</span><a class="archive-post-title" href="/clay4444.github.io/posts/21482a37/">LinkedHashMap源码赏析</a>
        </li>
    
    
        <li class="archive-post-item">
            <span class="archive-post-date">01/14</span><a class="archive-post-title" href="/clay4444.github.io/posts/526318cc/">HashMap源码赏析</a>
        </li>
    
    
        <li class="archive-post-item">
            <span class="archive-post-date">01/13</span><a class="archive-post-title" href="/clay4444.github.io/posts/df7893e2/">LinkedList源码赏析</a>
        </li>
    
    
        <li class="archive-post-item">
            <span class="archive-post-date">01/12</span><a class="archive-post-title" href="/clay4444.github.io/posts/d36c0402/">ArrayList删除特定元素的方法</a>
        </li>
    
    
        <li class="archive-post-item">
            <span class="archive-post-date">01/11</span><a class="archive-post-title" href="/clay4444.github.io/posts/55c3a3c7/">ArrayList添加一个元素add方法的核心</a>
        </li>
    
    
        <li class="archive-post-item">
            <span class="archive-post-date">01/08</span><a class="archive-post-title" href="/clay4444.github.io/posts/5b758090/">ArrayList源码赏析</a>
        </li>
    
    
        <li class="archive-post-item">
            <span class="archive-post-date">01/06</span><a class="archive-post-title" href="/clay4444.github.io/posts/6d17d8e0/">Java8系列之新时间和日期API</a>
        </li>
    
    
        <li class="archive-post-item">
            <span class="archive-post-date">01/03</span><a class="archive-post-title" href="/clay4444.github.io/posts/91ca9518/">Java8系列之Optional容器</a>
        </li>
    
    
    
    
    
        </ul>
    
    <div class="archive-year"> 2017 </div>
    <ul class="year-list">
    
    
        <li class="archive-post-item">
            <span class="archive-post-date">12/28</span><a class="archive-post-title" href="/clay4444.github.io/posts/9b8b8703/">Java8系列之Stream-API</a>
        </li>
    
    
        <li class="archive-post-item">
            <span class="archive-post-date">12/24</span><a class="archive-post-title" href="/clay4444.github.io/posts/ccf34b81/">Java8系列之Lambda表达式</a>
        </li>
    
    
        <li class="archive-post-item">
            <span class="archive-post-date">12/21</span><a class="archive-post-title" href="/clay4444.github.io/posts/f26db82e/">Comparator和Comparable详解</a>
        </li>
    
    
        <li class="archive-post-item">
            <span class="archive-post-date">12/20</span><a class="archive-post-title" href="/clay4444.github.io/posts/c4dacfdd/">Java8系列之宏观简介</a>
        </li>
    
    
        <li class="archive-post-item">
            <span class="archive-post-date">12/17</span><a class="archive-post-title" href="/clay4444.github.io/posts/13325b7b/">Java的反射与动态代理</a>
        </li>
    
    
        <li class="archive-post-item">
            <span class="archive-post-date">12/16</span><a class="archive-post-title" href="/clay4444.github.io/posts/1c38ec28/">关于内部类的那些事</a>
        </li>
    
    
        <li class="archive-post-item">
            <span class="archive-post-date">12/10</span><a class="archive-post-title" href="/clay4444.github.io/posts/82b03554/">装饰者模式详解</a>
        </li>
    
    
        <li class="archive-post-item">
            <span class="archive-post-date">12/07</span><a class="archive-post-title" href="/clay4444.github.io/posts/148c5e8e/">策略模式详解</a>
        </li>
    
    
        <li class="archive-post-item">
            <span class="archive-post-date">12/05</span><a class="archive-post-title" href="/clay4444.github.io/posts/34ec76cc/">迭代器模式详解</a>
        </li>
    
    
        <li class="archive-post-item">
            <span class="archive-post-date">12/01</span><a class="archive-post-title" href="/clay4444.github.io/posts/f4488fab/">适配器模式详解</a>
        </li>
    
    
        <li class="archive-post-item">
            <span class="archive-post-date">11/21</span><a class="archive-post-title" href="/clay4444.github.io/posts/db6632d/">详解关系型数据库三范式</a>
        </li>
    
    
        <li class="archive-post-item">
            <span class="archive-post-date">11/11</span><a class="archive-post-title" href="/clay4444.github.io/posts/dcf98c31/">maven的聚合和继承</a>
        </li>
    
    
        <li class="archive-post-item">
            <span class="archive-post-date">11/09</span><a class="archive-post-title" href="/clay4444.github.io/posts/c51233f6/">JavaIO流</a>
        </li>
    
    
        <li class="archive-post-item">
            <span class="archive-post-date">10/31</span><a class="archive-post-title" href="/clay4444.github.io/posts/a4b4dacb/">详解Java7中的Try-with-resource</a>
        </li>
    
    
        <li class="archive-post-item">
            <span class="archive-post-date">10/23</span><a class="archive-post-title" href="/clay4444.github.io/posts/e4155742/">Java异常处理模板</a>
        </li>
    
    
        <li class="archive-post-item">
            <span class="archive-post-date">10/15</span><a class="archive-post-title" href="/clay4444.github.io/posts/6bb61ef6/">深入探讨Java的故障保护异常处理</a>
        </li>
    
    
        <li class="archive-post-item">
            <span class="archive-post-date">10/07</span><a class="archive-post-title" href="/clay4444.github.io/posts/78696dcf/">本地YUM源制作</a>
        </li>
    
    
        <li class="archive-post-item">
            <span class="archive-post-date">10/04</span><a class="archive-post-title" href="/clay4444.github.io/posts/621e5041/">VMware虚拟机三种联网方法及原理</a>
        </li>
    
    
        <li class="archive-post-item">
            <span class="archive-post-date">09/30</span><a class="archive-post-title" href="/clay4444.github.io/posts/ecfdb360/">关于mapreduce程序开发的一些总结</a>
        </li>
    
    
        <li class="archive-post-item">
            <span class="archive-post-date">09/29</span><a class="archive-post-title" href="/clay4444.github.io/posts/c1ee2109/">MR之mapreduce原理深入剖析</a>
        </li>
    
    
        <li class="archive-post-item">
            <span class="archive-post-date">09/27</span><a class="archive-post-title" href="/clay4444.github.io/posts/21f9e9c5/">MR之WordCountDemo及执行流程图</a>
        </li>
    
    
        <li class="archive-post-item">
            <span class="archive-post-date">09/25</span><a class="archive-post-title" href="/clay4444.github.io/posts/a9435451/">MR之客户端提交mr程序job的流程</a>
        </li>
    
    
        <li class="archive-post-item">
            <span class="archive-post-date">09/24</span><a class="archive-post-title" href="/clay4444.github.io/posts/63320029/">详解namenode的安全模式</a>
        </li>
    
    
        <li class="archive-post-item">
            <span class="archive-post-date">09/22</span><a class="archive-post-title" href="/clay4444.github.io/posts/ac72d308/">Hadoop集群的联邦机制</a>
        </li>
    
    
        <li class="archive-post-item">
            <span class="archive-post-date">09/20</span><a class="archive-post-title" href="/clay4444.github.io/posts/d0edc1ed/">Linux常用命令</a>
        </li>
    
    
        <li class="archive-post-item">
            <span class="archive-post-date">09/15</span><a class="archive-post-title" href="/clay4444.github.io/posts/a45c106d/">Hadoop集群高可用配置原理及过程</a>
        </li>
    
    
        <li class="archive-post-item">
            <span class="archive-post-date">09/13</span><a class="archive-post-title" href="/clay4444.github.io/posts/442eff56/">详解Linux的链接文件</a>
        </li>
    
    
        <li class="archive-post-item">
            <span class="archive-post-date">09/08</span><a class="archive-post-title" href="/clay4444.github.io/posts/84f5b3e/">NIO系列之非阻塞式IO</a>
        </li>
    
    
        <li class="archive-post-item">
            <span class="archive-post-date">09/04</span><a class="archive-post-title" href="/clay4444.github.io/posts/65ebcdd2/">NIO系列之缓冲区和通道</a>
        </li>
    
    
        <li class="archive-post-item">
            <span class="archive-post-date">09/01</span><a class="archive-post-title" href="/clay4444.github.io/posts/a4ab48f8/">线程八锁</a>
        </li>
    
    
        <li class="archive-post-item">
            <span class="archive-post-date">08/28</span><a class="archive-post-title" href="/clay4444.github.io/posts/657d2343/">经典面试题之线程按顺序交替打印</a>
        </li>
    
    
        <li class="archive-post-item">
            <span class="archive-post-date">08/25</span><a class="archive-post-title" href="/clay4444.github.io/posts/2822593d/">CAS算法原子变量底层到底是如何工作的</a>
        </li>
    
    
        <li class="archive-post-item">
            <span class="archive-post-date">08/20</span><a class="archive-post-title" href="/clay4444.github.io/posts/46a889d8/">Lock与synchronized的区别</a>
        </li>
    
    
        <li class="archive-post-item">
            <span class="archive-post-date">08/15</span><a class="archive-post-title" href="/clay4444.github.io/posts/f9184235/">Disruptor框架</a>
        </li>
    
    
        <li class="archive-post-item">
            <span class="archive-post-date">08/12</span><a class="archive-post-title" href="/clay4444.github.io/posts/282014e2/">重入锁和读写锁和分布式锁的应用</a>
        </li>
    
    
        <li class="archive-post-item">
            <span class="archive-post-date">08/10</span><a class="archive-post-title" href="/clay4444.github.io/posts/417d070a/">concurrent包下常用类及其应用</a>
        </li>
    
    
        <li class="archive-post-item">
            <span class="archive-post-date">08/03</span><a class="archive-post-title" href="/clay4444.github.io/posts/8b920ef3/">Executor线程池应用及其源代码解析</a>
        </li>
    
    
        <li class="archive-post-item">
            <span class="archive-post-date">07/31</span><a class="archive-post-title" href="/clay4444.github.io/posts/ba8be30a/">多线程的设计模式之生产者-消费者模式</a>
        </li>
    
    
        <li class="archive-post-item">
            <span class="archive-post-date">07/28</span><a class="archive-post-title" href="/clay4444.github.io/posts/c319249/">多线程的设计模式之Master-Worker模式</a>
        </li>
    
    
        <li class="archive-post-item">
            <span class="archive-post-date">07/24</span><a class="archive-post-title" href="/clay4444.github.io/posts/6d530e97/">多线程的设计模式之Future模式</a>
        </li>
    
    
        <li class="archive-post-item">
            <span class="archive-post-date">07/23</span><a class="archive-post-title" href="/clay4444.github.io/posts/f1a00836/">并发Queue详解及其应用</a>
        </li>
    
    
        <li class="archive-post-item">
            <span class="archive-post-date">07/20</span><a class="archive-post-title" href="/clay4444.github.io/posts/2b949ee4/">并发类容器</a>
        </li>
    
    
        <li class="archive-post-item">
            <span class="archive-post-date">07/19</span><a class="archive-post-title" href="/clay4444.github.io/posts/bdf654d1/">同步类容器</a>
        </li>
    
    
        <li class="archive-post-item">
            <span class="archive-post-date">07/16</span><a class="archive-post-title" href="/clay4444.github.io/posts/5d37d5dd/">集合迭代器快速失败行为及CopyOnWriteArrayList</a>
        </li>
    
    
        <li class="archive-post-item">
            <span class="archive-post-date">07/15</span><a class="archive-post-title" href="/clay4444.github.io/posts/c8369a3e/">MR之倒排索引的建立</a>
        </li>
    
    
        <li class="archive-post-item">
            <span class="archive-post-date">07/13</span><a class="archive-post-title" href="/clay4444.github.io/posts/db40873f/">ThreadLocal详解及其底层实现分析</a>
        </li>
    
    
        <li class="archive-post-item">
            <span class="archive-post-date">07/08</span><a class="archive-post-title" href="/clay4444.github.io/posts/3c6f5864/">BlockQueue队列内部实现剖析及简单模拟</a>
        </li>
    
    
        <li class="archive-post-item">
            <span class="archive-post-date">07/06</span><a class="archive-post-title" href="/clay4444.github.io/posts/9a01ed74/">通过一道阿里面试题看线程间通信的概念</a>
        </li>
    
    
        <li class="archive-post-item">
            <span class="archive-post-date">07/03</span><a class="archive-post-title" href="/clay4444.github.io/posts/623ba864/">关于synchronized一些容易忽略的特性</a>
        </li>
    
    
        <li class="archive-post-item">
            <span class="archive-post-date">07/02</span><a class="archive-post-title" href="/clay4444.github.io/posts/2dd0f618/">Hive自定义函数和Transform</a>
        </li>
    
    
        <li class="archive-post-item">
            <span class="archive-post-date">06/29</span><a class="archive-post-title" href="/clay4444.github.io/posts/5ec70f63/">Hive参数配置方式</a>
        </li>
    
    
        <li class="archive-post-item">
            <span class="archive-post-date">06/25</span><a class="archive-post-title" href="/clay4444.github.io/posts/73b70227/">关于Hive的Select查询</a>
        </li>
    
    
        <li class="archive-post-item">
            <span class="archive-post-date">06/23</span><a class="archive-post-title" href="/clay4444.github.io/posts/f92012d0/">Hive中的数据存储格式和基本操作</a>
        </li>
    
    
        <li class="archive-post-item">
            <span class="archive-post-date">06/20</span><a class="archive-post-title" href="/clay4444.github.io/posts/e01e83db/">Hive最常用之统计报表</a>
        </li>
    
    
        <li class="archive-post-item">
            <span class="archive-post-date">06/18</span><a class="archive-post-title" href="/clay4444.github.io/posts/111e02e0/">volatile关键字</a>
        </li>
    
    
        <li class="archive-post-item">
            <span class="archive-post-date">06/15</span><a class="archive-post-title" href="/clay4444.github.io/posts/16f9fb4/">单例模式的双重检查锁定+volatile</a>
        </li>
    
    
        <li class="archive-post-item">
            <span class="archive-post-date">06/13</span><a class="archive-post-title" href="/clay4444.github.io/posts/e4408e09/">关于Hive的join操作</a>
        </li>
    
    </ul></div>
  </div>
        <div class="sidebar-panel-tags">
    <div class="sidebar-tags-name">
    
        <span class="sidebar-tag-name" data-tags="源码解析系列"><span class="iconfont-archer">&#xe606;</span>源码解析系列</span>
    
        <span class="sidebar-tag-name" data-tags="Flink"><span class="iconfont-archer">&#xe606;</span>Flink</span>
    
        <span class="sidebar-tag-name" data-tags="Git"><span class="iconfont-archer">&#xe606;</span>Git</span>
    
        <span class="sidebar-tag-name" data-tags="flume"><span class="iconfont-archer">&#xe606;</span>flume</span>
    
        <span class="sidebar-tag-name" data-tags="HA机制"><span class="iconfont-archer">&#xe606;</span>HA机制</span>
    
        <span class="sidebar-tag-name" data-tags="Hbase"><span class="iconfont-archer">&#xe606;</span>Hbase</span>
    
        <span class="sidebar-tag-name" data-tags="Hive"><span class="iconfont-archer">&#xe606;</span>Hive</span>
    
        <span class="sidebar-tag-name" data-tags="Java8系列"><span class="iconfont-archer">&#xe606;</span>Java8系列</span>
    
        <span class="sidebar-tag-name" data-tags="Java9系列"><span class="iconfont-archer">&#xe606;</span>Java9系列</span>
    
        <span class="sidebar-tag-name" data-tags="MapReduce"><span class="iconfont-archer">&#xe606;</span>MapReduce</span>
    
        <span class="sidebar-tag-name" data-tags="MySql"><span class="iconfont-archer">&#xe606;</span>MySql</span>
    
        <span class="sidebar-tag-name" data-tags="Spark"><span class="iconfont-archer">&#xe606;</span>Spark</span>
    
        <span class="sidebar-tag-name" data-tags="Storm"><span class="iconfont-archer">&#xe606;</span>Storm</span>
    
        <span class="sidebar-tag-name" data-tags="环境部署问题系列"><span class="iconfont-archer">&#xe606;</span>环境部署问题系列</span>
    
        <span class="sidebar-tag-name" data-tags="maven"><span class="iconfont-archer">&#xe606;</span>maven</span>
    
        <span class="sidebar-tag-name" data-tags="快学scala读书笔记"><span class="iconfont-archer">&#xe606;</span>快学scala读书笔记</span>
    
        <span class="sidebar-tag-name" data-tags="zookeeper"><span class="iconfont-archer">&#xe606;</span>zookeeper</span>
    
        <span class="sidebar-tag-name" data-tags="并发编程实战读书笔记"><span class="iconfont-archer">&#xe606;</span>并发编程实战读书笔记</span>
    
        <span class="sidebar-tag-name" data-tags="大数据处理算法"><span class="iconfont-archer">&#xe606;</span>大数据处理算法</span>
    
        <span class="sidebar-tag-name" data-tags="Java异常处理"><span class="iconfont-archer">&#xe606;</span>Java异常处理</span>
    
        <span class="sidebar-tag-name" data-tags="hdfs"><span class="iconfont-archer">&#xe606;</span>hdfs</span>
    
        <span class="sidebar-tag-name" data-tags="elasticsearch"><span class="iconfont-archer">&#xe606;</span>elasticsearch</span>
    
        <span class="sidebar-tag-name" data-tags="GC"><span class="iconfont-archer">&#xe606;</span>GC</span>
    
        <span class="sidebar-tag-name" data-tags="日志框架"><span class="iconfont-archer">&#xe606;</span>日志框架</span>
    
        <span class="sidebar-tag-name" data-tags="NIO"><span class="iconfont-archer">&#xe606;</span>NIO</span>
    
        <span class="sidebar-tag-name" data-tags="Spring注解驱动开发"><span class="iconfont-archer">&#xe606;</span>Spring注解驱动开发</span>
    
        <span class="sidebar-tag-name" data-tags="kafka"><span class="iconfont-archer">&#xe606;</span>kafka</span>
    
        <span class="sidebar-tag-name" data-tags="JavaIO流系列"><span class="iconfont-archer">&#xe606;</span>JavaIO流系列</span>
    
    </div>
    <div class="iconfont-archer sidebar-tags-empty">&#xe678;</div>
    <div class="tag-load-fail" style="display: none; color: #ccc; font-size: 0.6rem;">
    缺失模块。<br>
    1、请确保node版本大于6.2<br>
    2、在博客根目录（注意不是archer根目录）执行以下命令：<br>
    <span style="color: #f75357; font-size: 1rem; line-height: 2rem;">npm i hexo-generator-json-content --save</span><br>
    3、在根目录_config.yml里添加配置：
    <pre style="color: #787878; font-size: 0.6rem;">
jsonContent:
  meta: false
  pages: false
  posts:
    title: true
    date: true
    path: true
    text: false
    raw: false
    content: false
    slug: false
    updated: false
    comments: false
    link: false
    permalink: false
    excerpt: false
    categories: true
    tags: true</pre>
    </div> 
    <div class="sidebar-tags-list"></div>
</div>
        <div class="sidebar-panel-categories">
    <div class="sidebar-categories-name">
    
        <span class="sidebar-category-name" data-categories="多线程编程"><span class="iconfont-archer">&#xe60a;</span>多线程编程</span>
    
        <span class="sidebar-category-name" data-categories="Java基础"><span class="iconfont-archer">&#xe60a;</span>Java基础</span>
    
        <span class="sidebar-category-name" data-categories="big-data"><span class="iconfont-archer">&#xe60a;</span>big-data</span>
    
        <span class="sidebar-category-name" data-categories="scala"><span class="iconfont-archer">&#xe60a;</span>scala</span>
    
        <span class="sidebar-category-name" data-categories="Linux"><span class="iconfont-archer">&#xe60a;</span>Linux</span>
    
        <span class="sidebar-category-name" data-categories="数据库"><span class="iconfont-archer">&#xe60a;</span>数据库</span>
    
        <span class="sidebar-category-name" data-categories="计算机网络"><span class="iconfont-archer">&#xe60a;</span>计算机网络</span>
    
        <span class="sidebar-category-name" data-categories="设计模式"><span class="iconfont-archer">&#xe60a;</span>设计模式</span>
    
        <span class="sidebar-category-name" data-categories="数据结构"><span class="iconfont-archer">&#xe60a;</span>数据结构</span>
    
        <span class="sidebar-category-name" data-categories="kafka权威指南读书笔记"><span class="iconfont-archer">&#xe60a;</span>kafka权威指南读书笔记</span>
    
        <span class="sidebar-category-name" data-categories="leetcode"><span class="iconfont-archer">&#xe60a;</span>leetcode</span>
    
        <span class="sidebar-category-name" data-categories="StreamingSystem读书笔记"><span class="iconfont-archer">&#xe60a;</span>StreamingSystem读书笔记</span>
    
    </div>
    <div class="iconfont-archer sidebar-categories-empty">&#xe678;</div>
    <div class="sidebar-categories-list"></div>
</div>
    </div>
</div> 
    <script>
    var siteMeta = {
        root: "/clay4444.github.io/",
        author: "clay"
    }
</script>
    <!-- CDN failover -->
    <script src="https://cdn.jsdelivr.net/npm/jquery@3.3.1/dist/jquery.min.js"></script>
    <script type="text/javascript">
        if (typeof window.$ === 'undefined')
        {
            console.warn('jquery load from jsdelivr failed, will load local script')
            document.write('<script src="/clay4444.github.io/lib/jquery.min.js">\x3C/script>')
        }
    </script>
    <script src="/clay4444.github.io/scripts/main.js"></script>
    <!-- algolia -->
    
    <!-- busuanzi  -->
    
    <script async src="//dn-lbstatics.qbox.me/busuanzi/2.3/busuanzi.pure.mini.js"></script>
    
    <!-- CNZZ  -->
    
    </div>
    <!-- async load share.js -->
    
        <script src="/clay4444.github.io/scripts/share.js" async></script>    
     
    </body>
</html>


